extern _free

section .text

global _ft_list_remove_if

;void ft_list_remove_if(t_list **begin_list, void *data_ref, int (*cmp)());
;======================================================================
_ft_list_remove_if :
;	check if begin_list and cmp are null
;----------------------------------------------------------------------
	cmp			rdi, 0
	je			_quit
	cmp			rdx, 0
	je			_quit
;----------------------------------------------------------------------

;
;----------------------------------------------------------------------
	push		rdi
	push		r12
	push		r13
	mov			r12, rdx
	mov			r13, [rdi]
;----------------------------------------------------------------------
_quit :
	ret

;======================================================================

_find_and_remove :
;----------------------------------------------------------------------
	push		r13
	cmp			r13, 0
	je			_return
;----------------------------------------------------------------------

	mov			rdi, [r13]
	call		r12
	cmp			rax, 0
	je			_remove_elem

_return :
	ret
;======================================================================


;void	remove_elem(t_list *previous, t_list *elem);
;======================================================================
_remove_elem :
	mov			rdx, qword [rsi + 8]
	mov			[rdi + 8], rdx
	push		rdi
	mov			rdi, rsi
	call		_free
	pop			rdi
	ret
;======================================================================
	

